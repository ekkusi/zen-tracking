# import Date from "../scalars/schema.graphql"
# import ChallengeParticipation from "../challenge/schema.graphql"

# Above imports are for graphql-code-generator

# This is here to prevent error from graphql-code-generator documents field
query GetUsers {
  getUsers {
    name
  }
}

extend type Query {
  getUser(name: ID!): User!
  getUsers: [User!]
  checkUser(name: ID!, password: String!): UserCheckResult!
}

extend type Mutation {
  addUser(name: ID!, password: String!, isPrivate: Boolean): User!
}

enum UserCheckStatus {
  USER_AND_PASSWORD_FOUND
  USER_NOT_FOUND_BUT_CREATED
  INVALID_PASSWORD
}

type User {
  name: ID!
  isPrivate: Boolean!
  participations: [ChallengeParticipation!]!
  activeParticipation: ChallengeParticipation
}

type UserCheckResult {
  user: User
  status: UserCheckStatus!
}
